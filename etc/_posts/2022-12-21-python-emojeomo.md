---
layout: post
title: νμ΄μ¬ μ΄λ¨μ €λ¨
description: >
  νμ΄μ¬ μ΄λ¨μ €λ¨
sitemap: false
---
νμ΄μ¬ κ³µλ¶€ ν•„κΈ°μ©

## self μ΄ν•΄ν•κΈ°

### π”– μ°Έκ³  μ‚¬μ΄νΈ
- [[Re:Python] 1. self μ΄ν•΄ν•κΈ°](https://velog.io/@magnoliarfsit/RePython-1.-self-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0)

## PriorityQueue vs heapq
PriorityQueue vs heapq μ°¨μ΄μ μ„ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

### CPython - PriorityQueue ν΄λμ¤ μΌλ¶€
```python
class PriorityQueue:
    ...
    def _put(self, item):
        heappush(self.queue, item)
        
    def _get(self):
        return heappop(self.queue)
```

### μ°¨μ΄μ μ€ μ¤λ λ“ μ„Έμ΄ν”„(Thread-Safe)

> μ¤λ λ“ μ„Έμ΄ν”„(Thread-Safe)?
> <br>
> λ©€ν‹° μ¤λ λ“μ—λ„ μ•μ „ν• ν”„λ΅κ·Έλλ°μ κ°λ…. 
> <br>
> λ§μ•½ μ¤λ λ“ μ„Έμ΄ν”„ν•μ§€ μ•μ€ κ²½μ° 1λ² μ¤λ λ“μ κ°’μ΄ 2λ² μ¤λ λ“μ—μ„ λ³€κ²½λ  μ μμ–΄ λ¬Έμ κ°€ λ°μƒν•λ‹¤.

νμ΄μ¬μ€ GILμ νΉμ„±μƒ λ©€ν‹° μ¤λ λ”©μ΄ κ±°μ μ—†κΈ° λ•λ¬Έμ— λ€λ¶€λ¶„ λ©€ν‹° ν”„λ΅μ„Έμ‹±μΌλ΅ ν™μ©ν•λ‹¤λ” μ μ„ μƒκ°ν•΄λ³Έλ‹¤λ©΄...
<br>
λ©€ν‹° μ¤λ λ”© μ§€μ›μ€ μ‚¬μ‹¤ ν° μλ―Έλ¥Ό μ—†μµλ‹λ‹¤.
<br>
λν• μ¤λ λ“ μ„Έμ΄ν”„λ¥Ό λ³΄μ¥ν•λ‹¤λ” κ²ƒμ€ λ‚΄λ¶€μ μΌλ΅ λ½ν‚Ή(Locking)μ„ μ κ³µν•λ‹¤λ” μλ―Έλ΅
<br>
λ½ν‚Ή μ¤λ²„ν—¤λ“(Locking Overhead)κ°€ λ°μƒν•΄ μ„±λ¥μ— μν–¥μ„ λΌμΉ©λ‹λ‹¤.

λ”°λΌμ„ κµ³μ΄ λ©€ν‹° μ¤λ λ“λ΅ κµ¬ν„ν•  κ²ƒμ΄ μ•„λ‹λΌλ©΄ `PriorityQueue` λ¨λ“μ„ μ‚¬μ©ν•  ν•„μ”κ°€ μ—†μµλ‹λ‹¤.
<br>
(μ‹¤λ¬΄μ—μ„λ„ μ°μ„ μμ„ νλ” λ€λ¶€λ¶„ `heapq`λ΅ κµ¬ν„μ„ ν•κ³  μλ‹¤κ³  ν•©λ‹λ‹¤. π¤”)

## zip() & *(μ•„μ¤ν…λ¦¬μ¤ν¬)

### zip() ν•¨μ
2κ° μ΄μƒμ μ‹ν€€μ¤λ¥Ό μ§§μ€ κΈΈμ΄λ¥Ό κΈ°μ¤€μΌλ΅ μΌλ€μΌ λ€μ‘ν•λ” μƒλ΅μ΄ νν” μ‹ν€€μ¤λ¥Ό λ§λ“λ” ν•¨μ

```python
a = [1, 2, 3, 4, 5]
b = [2, 3, 4, 5]
c = [3, 4, 5]
zip(a, b)

list(zip(a, b))
[(1, 2), (2, 3), (3, 4), (4, 5)]

list(zip(a, b, c))
[(1, 2, 3), (2, 3, 4), (3, 4, 5)]
```

zip() κ²°κ³Ό μμ²΄λ” λ¦¬μ¤νΈ μ‹ν€€μ¤κ°€ μ•„λ‹ νν” μ‹ν€€μ¤λ¥Ό λ§λ“¤κΈ° λ•λ¬Έμ—, κ°’μ„ λ³€κ²½ν•λ” κ²ƒμ΄ λ¶κ°€λ¥ ν•©λ‹λ‹¤.
<br>
(== λ¶λ³€(Immutable) κ°μ²΄)

```python
a = [1, 2, 3, 4, 5]
b = [2, 3, 4, 5]
c = [3, 4, 5]

d = list(zip(a, b, c))

print(d[0][0])

d[0][0] = 0

# >> μ‹¤ν–‰ κ²°κ³Ό!
1
Traceback (most recent call last):
  File "/Users/midas/Desktop/Study/Python/CodingInterview/interview/ν•΄μ‹ν…μ΄λΈ”/Sample.py", line 9, in <module>
    d[0][0] = 0
TypeError: 'tuple' object does not support item assignment

Process finished with exit code 1
```

μ„μ™€ κ°™μ΄ `zip()`μ κ°’μ„ λ³€κ²½ ν•λ ¤κ³ ν•λ©΄ `TypeError`κ°€ λ°μƒν•©λ‹λ‹¤.

> μ΄μ²λΌ `zip()`μ€ μ—¬λ¬ μ‹ν€€μ¤μ—μ„ λ™μΌν• μΈλ±μ¤μ μ•„μ΄ν…μ„ μμ„λ€λ΅ μ¶”μ¶ν•μ—¬ νν”λ΅ λ§λ“¤μ–΄μ¤λ‹λ‹¤.

### μ•„μ¤ν…λ¦¬μ¤ν¬(*)
C μ–Έμ–΄μ ν¬μΈν„° λ³€μμ™€ νΌλ™λ  μ μμΌλ‚ **νμ΄μ¬μ—λ” ν¬μΈν„°κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤.**
<br>
νμ΄μ¬μ—μ„ *λ” μ–Έν©(Unpack) μ…λ‹λ‹¤.
<br>
μ‹ν€€μ¤ μ–Έν¨ν‚Ή μ—°μ‚°μ(Sequence Unpacking Operator)λ΅ λ§ κ·Έλ€λ΅ μ‹ν€€μ¤λ¥Ό ν’€μ–΄ν—¤μΉλ” μ—°μ‚°μμ…λ‹λ‹¤.
<br>
μ£Όλ΅ νν”μ΄λ‚ λ¦¬μ¤νΈλ¥Ό μ–Έν¨ν‚Ήν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

```python
import collections

nums = [1, 1, 1, 2, 2, 3]
result = collections.Counter(nums).most_common(2)

print(result) # 1
[(1, 3), (2, 2)]

print(list(zip(result))) # 2
[((1, 3),), ((2, 2),)]

print(list(zip(*result))) # 3
[(1, 2), (3, 2)]
```
μ„μ™€ κ°™μ΄ Counter... μ κ²°κ³Όλ¥Ό `zip()`μΌλ΅ λ°”λ΅ λ¬¶μΌλ©΄ 2λ²κ³Ό κ°™μ΄ μ—‰λ±ν• κ²°κ³Όκ°€ λ‚μ¤κ² λ©λ‹λ‹¤.
<br>
μ΄λ” *λ΅ μ–Έν¨ν‚Ήμ„ ν•΄μ¤μ•Ό μ›ν•λ” κ°’μ„ μ–»μ„ μ μμµλ‹λ‹¤.

μμ λ¥Ό λ” μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤.
```python
fruits = ['lemon', 'pear', 'watermelon', 'tomato']

for f in fruits: # 1
    print(f, end=' ')
    
print(*fruits) # 2
```
κ° μ”μ†λ¥Ό μ¶λ ¥ν•λ” λ°©λ²•μ€ 1λ²κ³Ό κ°™μ΄ for λ¬Έμ„ μ‚¬μ©ν•΄μ•Ό ν•μ§€λ§...
<br>
λ†€λκ²λ„ *λ΅ μ–Έν¨ν‚Ήμ„ ν•΄μ¤λ„ κ°™μ€ κ²°κ³Όκ°€ μ¶λ ¥λ©λ‹λ‹¤!

μ΄μ™Έμ—λ„ *λ” ν™μ©λ„κ°€ λ§λ‹¤κ³  ν•λ”λ°μ”.
```python
date_info = {'year': '2020', 'month': '01', 'day': '7'}
new_info = {**date_info, 'day': '14'}

print(new_info)
{'year': '2020', 'month': '01', 'day': '14'}
```
μ„μ™€ κ°™μ΄ `**date_info`μ— λ¨λ“  μ”μ†λ¥Ό μ–Έν¨ν‚Ή ν•  μ μκ³ ,
<br>
`day`κ°€ 14λ΅ μ—…λ°μ΄νΈ λκ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

## κ°μ²΄ λ³µμ‚¬
> νμ΄μ¬μ μ¤‘μ”ν• νΉμ§• μ¤‘ ν•λ‚!
> <br>
> λ¨λ“ κ²ƒμ΄ κ°μ²΄μ΄λ‹¤!

μ„μ™€ κΈ€κ³Ό κ°™μ΄ νμ΄μ¬μ€ λ¨λ“  κ²ƒμ΄ κ°μ²΄ μ…λ‹λ‹¤.
<br>
μ«μ, λ¬ΈμκΉμ§€λ„ κ°μ²΄μ£ . π•Ί

μ«μ, λ¬Έμκ°€ λ¦¬μ¤νΈ, λ”•μ…”λ„λ¦¬μ™€ κ°™μ€ κ°μ²΄μ™€ μ°¨μ΄μ μ€ **λ¶λ³€ κ°μ²΄**λΌλ” κ²ƒ λΏμ…λ‹λ‹¤.
<br>
κ·Έλμ„ λ³„λ„λ΅ κ°’μ„ λ³µμ‚¬ν•μ§€ μ•μΌλ©΄, λ³€μμ— κ°’μ„ ν• λ‹Ήν•λ” λ¨λ“  ν–‰μ„λ” κ°’ κ°μ²΄μ— λ€ν• μ°Έμ΅°κ°€ λ©λ‹λ‹¤.
<br>
μ΄λ” μ¦‰ μ°Έμ΅°κ°€ κ°€λ¦¬ν‚¤λ” μ›λμ κ°’μ„ λ³€κ²½ν•λ©΄ λ¨λ“  μ°Έμ΅°, λ¨λ“  λ³€μμ κ°’ λν• ν•¨κ» λ³€κ²½λ¨μ„ λ§ν•©λ‹λ‹¤.

κ·Έλ ‡λ‹¤λ©΄ μ°Έμ΅°κ°€ λμ§€ μ•λ„λ΅ κ°’ μμ²΄λ¥Ό λ³µμ‚¬ν•λ” λ°©λ²•μ€ λ¬΄μ—‡μ΄ μμ„κΉμ”? π¤”
<br>
κ°€μ¥ κ°„λ‹¨ν• λ°©λ²•μ΄ `[:]` μ¬λΌμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ…λ‹λ‹¤.
```python
a = [1, 2, 3]
b = a
c = a[:]
print(id(a), id(b), id(c))
# 4312361728 4312361728 4312236800
```
[:]λ΅ μ²λ¦¬ν• λ³€μ cλ” λ‹¤λ¥Έ IDλ¥Ό κ°–λ” κ²ƒμ„ μ• μ μμµλ‹λ‹¤.
<br>
μ¦‰ μ°Έμ΅° μ²λ¦¬λ bλ” aμ™€ λ™μΌν• IDλ¥Ό κ°–μ§€λ§, λ³€μ cλ” κ°’ μμ²΄κ°€ λ³µμ‚¬λμ–΄ μƒλ΅μ΄ κ°μ²΄κ°€ λμ—μµλ‹λ‹¤.

μ΄μ™Έμ—λ„ `copy()` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ΄ μμµλ‹λ‹¤.
<br>
(μΆ€ λ” μ§κ΄€μ μ„ π’β€β™‚οΈ)
```python
a = [1, 2, 3]
b = a
c = a[:]
d = a.copy()
print(id(a), id(b), id(c), id(d))
# 4344310272 4344310272 4344185408 4344308800
```
μ„μ™€ κ°™μ΄ λ³€μ d λν• λ‹¤λ¥Έ IDλ¥Ό κ°–λ” κ²ƒμ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.
<br>
(== κ°’μ΄ λ³µμ‚¬λμ–΄ μƒλ΅μ΄ κ°μ²΄κ°€ μƒμ„±λμ—λ‹¤.)

κ°„λ‹¨ν• λ¦¬μ¤νΈμ κ²½μ°μ—λ” μ„μ™€ κ°™μ΄ `[:]`μ™€ `copy()`λ΅ ν•  μ μμ§€λ§,
<br>
λ³µμ΅ν• λ¦¬μ¤νΈμ κ²½μ°μ—λ” λ‹¤μκ³Ό κ°™μ΄ `copy.deepcopy()` μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.

```python
import copy
a = [1, 2, [3, 5], 4]
b = a
c = a[:]
d = copy.deepcopy(a)
print(id(a), id(a[2]), a) # 4376593536 4376586048 [1, 2, [3, 5], 4]
print(id(b), id(b[2]), b) # 4376593536 4376586048 [1, 2, [3, 5], 4]
print(id(c), id(c[2]), c) # 4376586880 4376586048 [1, 2, [3, 5], 4]
print(id(d), id(d[2]), d) # 4376586624 4376587584 [1, 2, [3, 5], 4]
```
μ.. μ„μ κ²ƒμ„ μ°¨κ·Όμ°¨κ·Ό μ‚΄ν΄λ³΄λ©΄... π« 
<br>
1. `=` μ—°μ‚°μλ΅ μƒμ„±λ bλ” a, [3, 5]κΉμ§€ μ£Όμ†κ°€ κ°™μ€ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
2. `[:]` λ©”μ„λ“λ΅ μƒμ„±λ cλ” aλ” μ£Όμ†κ°€ λ‹¤λ¥΄μ§€λ§, **λ‚΄λ¶€μ [3, 5]λ” μ£Όμ†κ°€ κ°™μ€ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.**
3. `copy.deepcopy()`λ΅ μƒμ„±λ dκ°€ λμ–΄μ„μ•Ό, a λΏλ§ μ•„λ‹λΌ [3, 5]λ„ μ£Όμ†κ°€ μƒλ΅­κ² μƒμ„±λ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

> μ¦‰ 2μ°¨μ› λ¦¬μ¤νΈ μ΄μƒμ κ²½μ° κ°μ²΄λ¥Ό λ³µμ‚¬ν•κΈ° μ„ν•΄μ„λ” `copy.deepcopy()`λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.